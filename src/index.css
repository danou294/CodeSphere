@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Grays (surfaces) — neutres, peu colorés */
    --surface-0: 0 0% 100%;
    --surface-50: 210 20% 98%;
    --surface-100: 210 18% 97%;
    --surface-200: 210 16% 95%;
    --surface-300: 210 14% 92%;
    --surface-400: 210 12% 88%;
    --surface-500: 210 10% 75%;
    --surface-600: 210 8% 55%;
    --surface-700: 210 8% 40%;
    --surface-800: 210 8% 26%;
    --surface-900: 210 8% 15%;
    --surface-950: 210 8% 10%;

    /* Primary = System Blue (iOS/macOS) */
    --primary-50: 212 100% 97%;
    --primary-100: 212 100% 93%;
    --primary-200: 212 100% 86%;
    --primary-300: 212 100% 76%;
    --primary-400: 212 100% 66%;
    --primary-500: 212 100% 55%; /* ~#0A84FF */
    --primary-600: 212 100% 50%;
    --primary-700: 212 100% 45%;
    --primary-800: 212 100% 40%;
    --primary-900: 212 100% 35%;
    --primary-950: 212 100% 28%;

    /* Secondary = Gray (text/tinted) */
    --secondary-500: 215 10% 45%;

    /* Accent = Indigo/Purple doux (pour highlights) */
    --accent-400: 249 66% 65%;  /* ~#7D7AFF */
    --accent-500: 249 56% 54%;  /* ~#5856D6 */
    --accent-600: 249 56% 46%;

    /* Semantic (proches d'iOS) */
    --success-500: 130 63% 47%;  /* ~#34C759 */
    --warning-500: 45 100% 50%;  /* ~#FFCC00 */
    --error-500: 0 100% 58%;     /* ~#FF3B30 */
    
    /* Gradient Colors - Purple/Violet sophistiqué */
    --gradient-50: 250 245 255;
    --gradient-100: 243 232 255;
    --gradient-200: 233 213 255;
    --gradient-300: 216 180 254;
    --gradient-400: 196 181 253;
    --gradient-500: 168 85 247;
    --gradient-600: 147 51 234;
    --gradient-700: 126 34 206;
    --gradient-800: 107 33 168;
    --gradient-900: 88 28 135;
    
    /* Contact Colors - Orange/Warm sophistiqué */
    --contact-50: 255 247 237;
    --contact-100: 255 237 213;
    --contact-200: 254 215 170;
    --contact-300: 253 186 116;
    --contact-400: 251 146 60;
    --contact-500: 249 115 22;
    --contact-600: 234 88 12;
    --contact-700: 194 65 12;
    --contact-800: 154 52 18;
    --contact-900: 124 45 18;
  }

  .dark {
    /* Surfaces sombres, contrastes doux */
    --surface-0: 220 15% 7%;
    --surface-50: 220 14% 10%;
    --surface-100: 220 14% 12%;
    --surface-200: 220 14% 16%;
    --surface-300: 220 14% 20%;
    --surface-400: 220 12% 28%;
    --surface-500: 220 10% 40%;
    --surface-600: 220 10% 55%;
    --surface-700: 220 10% 70%;
    --surface-800: 220 10% 82%;
    --surface-900: 220 10% 90%;
    --surface-950: 0 0% 100%;

    /* Primary/Accent un peu plus profonds en dark */
    --primary-500: 212 100% 60%;
    --primary-600: 212 100% 55%;
    --accent-500: 249 60% 62%;
    --success-500: 130 63% 54%;
    --warning-500: 45 100% 56%;
    --error-500: 0 100% 64%;
  }
}

@layer base {
  * {
    @apply border-surface-200 dark:border-surface-300;
  }
  
  body {
    @apply bg-surface-50 text-surface-950 dark:bg-surface-0 dark:text-white;
    font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "SF Pro Text", "SF Pro Display", "Segoe UI", Roboto, "Helvetica Neue", Arial, "JetBrains Mono";
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-surface-100 dark:bg-surface-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-surface-300 dark:bg-surface-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-surface-400 dark:bg-surface-500;
  }

  /* Selection */
  ::selection {
    @apply bg-primary-200 dark:bg-primary-800 text-primary-900 dark:text-primary-100;
  }

  /* Focus - Global Apple-style */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-0;
  }

  /* Typography Hierarchy - Apple-style */
  h1, h2, h3, h4, h5, h6 {
    @apply tracking-tight;
  }

  h1 {
    @apply text-6xl md:text-7xl font-bold leading-tight text-surface-950 dark:text-white;
  }

  h2 {
    @apply text-4xl md:text-5xl font-bold leading-tight text-surface-950 dark:text-white;
  }

  h3 {
    @apply text-2xl md:text-3xl font-semibold leading-tight text-surface-950 dark:text-white;
  }

  p {
    @apply leading-relaxed text-surface-700 dark:text-surface-100;
  }

  /* Motion-safe utilities */
  .motion-safe\:animate-float {
    @apply animate-float;
  }

  .motion-safe\:animate-pulse-slow {
    @apply animate-pulse-slow;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-float,
    .animate-pulse-slow {
      animation: none;
    }
  }
}

@layer components {
  /* Button Components - Apple-style */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-0 disabled:opacity-50 disabled:pointer-events-none;
  }

  /* Filled (CTA principal) */
  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 shadow-sm border border-white/0 dark:border-white/0;
  }

  /* Tinted (secondaire, fond discret) */
  .btn-secondary {
    @apply btn bg-surface-100 text-surface-950 hover:bg-surface-200 border border-surface-200 dark:bg-surface-100/10 dark:text-white dark:hover:bg-surface-100/15 dark:border-surface-300;
  }

  /* Plain (texte seul) */
  .btn-ghost {
    @apply btn bg-transparent text-primary-600 hover:bg-primary-50 dark:text-primary-400 dark:hover:bg-white/5 border border-transparent;
  }

  .btn-danger {
    @apply btn bg-error-500 text-white hover:bg-error-600 focus:ring-error-500;
  }

  /* Card Components - Apple-style */
  .card {
    @apply rounded-2xl border border-white/40 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur-xl shadow-sm hover:shadow-sm transition-all duration-200;
  }

  .card-header {
    @apply p-6 border-b border-white/40 dark:border-white/10;
  }

  .card-content {
    @apply p-6;
  }

  .card-footer {
    @apply p-6 border-t border-white/40 dark:border-white/10;
  }

  /* Input Components */
  .input {
    @apply w-full px-4 py-3 border border-surface-300 dark:border-surface-600 rounded-lg bg-white dark:bg-surface-800 text-surface-950 dark:text-white placeholder-surface-600 dark:placeholder-surface-400 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all duration-200;
  }

  .input-error {
    @apply input border-error-500 focus:ring-error-500 focus:border-error-500;
  }

  /* Badge Components - Apple-style */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-primary {
    @apply badge bg-primary-600/10 text-primary-800 dark:text-primary-300 dark:bg-primary-500/15 border border-primary-600/15 dark:border-primary-500/20;
  }

  .badge-success {
    @apply badge bg-success-500/10 text-success-800 dark:text-success-300 dark:bg-success-500/15 border border-success-500/15 dark:border-success-500/20;
  }

  .badge-warning {
    @apply badge bg-warning-500/10 text-warning-800 dark:text-warning-300 dark:bg-warning-500/15 border border-warning-500/15 dark:border-warning-500/20;
  }

  .badge-error {
    @apply badge bg-error-500/10 text-error-800 dark:text-error-300 dark:bg-error-500/15 border border-error-500/15 dark:border-white/10;
  }

  /* Glassmorphism - Apple-style */
  .glass {
    @apply bg-white/80 dark:bg-white/6 backdrop-blur-xl border border-white/40 dark:border-white/10 shadow-sm;
  }

  /* Gradient Text */
  .gradient-text {
    @apply bg-gradient-to-r from-primary-600 via-accent-500 to-primary-600 bg-clip-text text-transparent;
  }

  /* Animated Background - plus subtil */
  .animated-bg {
    @apply bg-gradient-to-br from-surface-50 via-surface-100 to-surface-50 dark:from-surface-0 dark:via-surface-50 dark:to-surface-0;
    background-size: 400% 400%;
    animation: gradient-shift 20s ease infinite;
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }
}

@layer utilities {
  /* Text Gradients */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-accent-500 bg-clip-text text-transparent;
  }

  .text-gradient-secondary {
    @apply bg-gradient-to-r from-secondary-500 to-surface-600 bg-clip-text text-transparent;
  }

  /* Shadows - plus légères */
  .shadow-glow {
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.03);
  }

  .shadow-glow-lg {
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.02);
  }

  /* Animations - ressort souple Apple */
  .animate-float {
    animation: float 8s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
  }

  .animate-pulse-slow {
    animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Text Shadow for Dark Mode - Subtle outline */
  .text-shadow-black {
    text-shadow: 
      0 0 1px #000,
      0 0 2px #000,
      0 0 3px #000;
  }

  /* Alternative: Glow effect */
  .text-glow-black {
    text-shadow: 
      0 0 5px rgba(0, 0, 0, 0.8),
      0 0 10px rgba(0, 0, 0, 0.6);
  }

  /* Alternative: Simple outline */
  .text-outline-black {
    -webkit-text-stroke: 0.5px #000;
    text-stroke: 0.5px #000;
  }

  /* Modal Styles - Fix centering issues */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 50;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .modal-content {
    position: relative;
    background: white;
    border-radius: 12px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    max-width: 90vw;
    max-height: 85vh;
    overflow: hidden;
    z-index: 51;
  }

  .dark .modal-content {
    background: #1f2937;
    border: 1px solid #374151;
  }
}